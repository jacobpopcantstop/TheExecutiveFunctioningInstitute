<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enroll | The Executive Functioning Institute</title>
  <meta name="description" content="Complete paid enrollment for the CEFC pathway with graded assignments, unit tests, dashboard progress, and certification feedback.">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="canonical" href="https://executivefunctioninginstitute.com/enroll.html" />
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav__inner">
      <a href="index.html" class="nav__logo"><div class="nav__logo-icon">EFI</div><span>Executive Functioning Institute</span></a>
      <div class="nav__links" id="nav-links">
        <a href="index.html" class="nav__link">Home</a>
        <a href="curriculum.html" class="nav__link">Curriculum</a>
        <a href="certification.html" class="nav__link">Certification</a>
        <a href="resources.html" class="nav__link">Resources</a>
        <a href="store.html" class="nav__link">Store</a>
        <span class="nav__auth"></span>
        <a href="enroll.html" class="nav__link nav__link--cta">Enroll Now</a>
      </div>
      <button class="nav__toggle" aria-label="Toggle navigation" aria-expanded="false">
        <svg aria-hidden="true" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
      </button>
    </div>
  </nav>

  <main id="main-content">
    <header class="page-header">
      <div class="container">
        <nav aria-label="Breadcrumb"><ol class="breadcrumb"><li><a href="index.html">Home</a></li> <li aria-current="page">Enroll</li></ol></nav>
        <h1>Enroll in CEFC</h1>
        <p>Everything educational on EFI is free. Paid enrollment includes graded tests and assignments, certification review, and alumni pathway access.</p>
      </div>
    </header>

    <section class="section">
      <div class="container">
        <div class="grid grid--2" style="gap:var(--space-2xl);align-items:start;">
          <div class="card" style="border-top:4px solid var(--color-primary);">
            <h2 style="margin-top:0;">What Paid Enrollment Unlocks</h2>
            <ul class="checklist">
              <li>Six graded unit tests</li>
              <li>Six applied module assignments</li>
              <li>AI rubric feedback with delayed release workflow</li>
              <li>Certification readiness tracking in dashboard</li>
              <li>Eligibility for certificate + alumni network listing</li>
            </ul>
            <div class="callout callout--accent" style="margin-top:var(--space-lg);">
              <p class="callout__label">Pricing Transparency</p>
              <p>Free: all theory, pages, and public resources. Paid: certification pipeline, formal feedback, credentialing operations, and network access.</p>
            </div>
          </div>

          <div class="card" style="border-top:4px solid var(--color-accent);">
            <div class="store-card__price-wrap"><div class="store-card__price">$899</div></div>
            <h3>CEFC Enrollment Access</h3>
            <p style="color:var(--color-text-light);">Create your account and continue directly to secure checkout.</p>

            <form id="enroll-paid-form" style="margin-top:var(--space-md);">
              <div class="form-group">
                <label for="enroll-name">Full Name</label>
                <input id="enroll-name" class="form-control" type="text" autocomplete="name" required>
              </div>
              <div class="form-group">
                <label for="enroll-email">Email</label>
                <input id="enroll-email" class="form-control" type="email" autocomplete="email" required>
              </div>
              <div class="form-group">
                <label for="enroll-password">Password</label>
                <input id="enroll-password" class="form-control" type="password" autocomplete="new-password" minlength="6" required>
              </div>
              <div class="form-group">
                <label for="enroll-password-confirm">Confirm Password</label>
                <input id="enroll-password-confirm" class="form-control" type="password" autocomplete="new-password" minlength="6" required>
              </div>
              <label style="display:flex;gap:0.5rem;align-items:flex-start;margin:var(--space-sm) 0;">
                <input id="enroll-consent" type="checkbox" required style="margin-top:0.3rem;">
                <span>I agree to the terms and consent to enrollment communications.</span>
              </label>
              <p id="enroll-error" class="esqr-error" hidden></p>
              <div class="button-group" style="margin-top:var(--space-md);">
                <button id="enroll-submit" type="submit" class="btn btn--primary btn--lg">Enroll & Continue to Checkout</button>
                <a href="login.html?redirect=enroll.html" class="btn btn--secondary">Already have an account</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer__bottom"><span>The Executive Functioning Institute &mdash; Open-Source Education</span><span>Certification services are paid; core resources remain free.</span></div>
    </div>
  </footer>

  <button type="button" class="back-to-top" aria-label="Back to top">&#8593;</button>
  <script src="js/auth.js"></script>
  <script src="js/main.js"></script>
  <script>
  (function () {
    var form = document.getElementById('enroll-paid-form');
    var err = document.getElementById('enroll-error');
    var submitBtn = document.getElementById('enroll-submit');

    function setErr(msg) {
      err.textContent = msg || '';
      err.hidden = !msg;
    }

    function addEnrollmentToCart() {
      EFI.Auth.addToCart({
        id: 'program-enrollment',
        name: 'CEFC Enrollment Access',
        price: 899
      });
    }

    form.addEventListener('submit', async function (e) {
      e.preventDefault();
      setErr('');

      var name = document.getElementById('enroll-name').value.trim();
      var email = document.getElementById('enroll-email').value.trim();
      var pw = document.getElementById('enroll-password').value;
      var pw2 = document.getElementById('enroll-password-confirm').value;
      var consent = document.getElementById('enroll-consent').checked;

      if (!consent) return setErr('Consent is required.');
      if (pw !== pw2) return setErr('Passwords do not match.');

      submitBtn.disabled = true;
      submitBtn.textContent = 'Preparing checkout...';

      try {
        var reg = await EFI.Auth.register(name, email, pw);
        if (!reg.ok) {
          var login = await EFI.Auth.login(email, pw);
          if (!login.ok) throw new Error(reg.error || login.error || 'Unable to authenticate.');
        }

        addEnrollmentToCart();
        window.location.href = 'checkout.html';
      } catch (error) {
        setErr(error.message || 'Unable to continue.');
        submitBtn.disabled = false;
        submitBtn.textContent = 'Enroll & Continue to Checkout';
      }
    });
  })();
  </script>
</body>
</html>
